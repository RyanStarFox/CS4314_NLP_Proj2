# ==========================================
# 🤖 API 配置 (必填)
# ==========================================

# --- 1. 文本生成模型 (LLM) ---
# 必填。用于回答问题、解析题目等核心功能。
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_BASE=https://api.openai.com/v1
MODEL_NAME=gpt-4o

# --- 2. 向量嵌入模型 (Embedding) ---
# 可选。用于知识库检索。
# 如果 EMBEDDING_API_KEY 为空，将自动使用 OPENAI_API_KEY。
# 如果 EMBEDDING_API_BASE 为空，将自动使用 OPENAI_API_BASE。
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_API_KEY=
EMBEDDING_API_BASE=

# --- 3. 多模态/图像理解模型 (VL) ---
# 可选。用于处理带图片的题目或生成图片描述。
# 如果 VL_API_KEY 为空，将自动使用 OPENAI_API_KEY。
VL_MODEL_NAME=gpt-4o
VL_API_KEY=
VL_API_BASE=

# 课件图片理解
# 是否开启上传 PPT/PDF 时自动识别每页图片内容并建立索引（消耗 Token 较多）
ENABLE_IMAGE_CAPTIONING=False
IMAGE_CAPTION_MODEL=gpt-4o


# ==========================================
# 🔍 检索与 RAG 配置
# ==========================================

# 检索返回的文档数量
TOP_K=6

# 出题时的候选文档池大小
EXERCISE_TOP_K=30

# 多轮对话上下文记忆轮数
MEMORY_WINDOW_SIZE=10

# --- 混合检索配置 (Hybrid Search) ---
# 是否同时使用向量检索和关键词检索
ENABLE_HYBRID_SEARCH=True
# 混合检索权重 alpha (0~1)。
# 1.0 = 仅向量检索, 0.0 = 仅关键词检索, 0.5 = 均衡
HYBRID_SEARCH_ALPHA=0.5


# ==========================================
# 📄 文本处理配置
# ==========================================

# 知识库切分参数
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# 文本分割时的容错阈值
SIZE_ERROR=100
OVERLAP_ERROR=20

# 模型上下文最大 Token 限制
MAX_TOKENS=4096


# ==========================================
# 📂 存储配置
# ==========================================
# 向量数据库路径 (通常无需修改)
VECTOR_DB_PATH=./vector_db